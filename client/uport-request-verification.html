<!DOCTYPE html>
<html lang="en">

<head>
  <script src="./uport-connect.js"></script>
</head>

<body>
  <div id="msg">
    Give the module a second to load...
  </div>
  <script type="text/javascript">
    //////////////////////////////
    //  Configure connect object
    /////////////////////////////

    const Connect = window.uportconnect
    const uport = new Connect('Queen Kong', {
      network: "ropsten"
    })

    const reqID = 'disclosureReq'


    /*
    This example differs from our login solution guide slightly in that when "logging in" we are also requesting an array of claim titles. 
    If any of the claim titles match a verification the user has, that the mobile user can choose to disclose that piece of information to the requester.    
    */
    uport.requestDisclosure(
      { verified: ['ExampleClaims'] }
    )

    uport.onResponse('disclosureReq').then(res => {
      json = JSON.stringify(res.payload)
      console.log(json)
      document.querySelector('#msg').innerHTML = "Congratulations you are now `logged in`.  Here is the response:  " + json
    })
  </script>
</body>

</html>